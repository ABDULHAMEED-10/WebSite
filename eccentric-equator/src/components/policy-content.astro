---
const policies = {
  privacy: {
    title: "Privacy Policy",
    content: `
      <h2>Privacy Policy for Aylestone Taxis</h2>
      <p>Last updated: ${new Date().toLocaleDateString()}</p>

      <h3>1. Introduction</h3>
      <p>Aylestone Taxis ("we", "our", "us"), operating in Leicester, is committed to protecting your personal data in accordance with the UK General Data Protection Regulation (UK GDPR) and the Data Protection Act 2018.</p>

      <h3>2. Information We Collect</h3>
      <ul>
        <li>Name and contact details</li>
        <li>Pick-up and drop-off locations</li>
        <li>Payment information</li>
        <li>Booking history</li>
        <li>Communication preferences</li>
        <li>Business account details (where applicable)</li>
      </ul>

      <h3>3. How We Use Your Information</h3>
      <ul>
        <li>To provide taxi and courier services</li>
        <li>To process payments</li>
        <li>To maintain business accounts</li>
        <li>To improve our services</li>
        <li>To comply with legal obligations</li>
      </ul>

      <h3>4. Legal Basis for Processing</h3>
      <p>We process your data under the following legal bases:</p>
      <ul>
        <li>Contract fulfillment</li>
        <li>Legal obligation</li>
        <li>Legitimate interests</li>
        <li>Consent (where applicable)</li>
      </ul>

      <h3>5. Your Rights</h3>
      <p>Under UK GDPR, you have the right to:</p>
      <ul>
        <li>Access your personal data</li>
        <li>Rectify inaccurate data</li>
        <li>Request erasure of your data</li>
        <li>Restrict processing</li>
        <li>Data portability</li>
        <li>Object to processing</li>
      </ul>

      <h3>6. Contact Information</h3>
      <p>For any privacy-related queries, please contact us at:</p>
      <p>Email: info@aylestone-taxis.co.uk</p>
      <p>Address: 753A Aylestone Road, Leicester, LE2 8TG</p>
    `
  },
  gdpr: {
    title: "GDPR Compliance",
    content: `
      <h2>GDPR Compliance Statement</h2>
      <p>Last updated: ${new Date().toLocaleDateString()}</p>

      <h3>1. Data Protection Principles</h3>
      <p>We process all personal data in accordance with UK GDPR principles:</p>
      <ul>
        <li>Lawfulness, fairness, and transparency</li>
        <li>Purpose limitation</li>
        <li>Data minimisation</li>
        <li>Accuracy</li>
        <li>Storage limitation</li>
        <li>Integrity and confidentiality</li>
        <li>Accountability</li>
      </ul>

      <h3>2. Data Protection Measures</h3>
      <ul>
        <li>Encrypted data storage</li>
        <li>Regular security assessments</li>
        <li>Staff training on data protection</li>
        <li>Access controls</li>
        <li>Regular backups</li>
      </ul>

      <h3>3. Data Retention</h3>
      <p>We retain personal data for:</p>
      <ul>
        <li>Booking records: 2 years</li>
        <li>Financial records: 7 years (legal requirement)</li>
        <li>Marketing preferences: Until consent withdrawal</li>
      </ul>
    `
  },
  cookies: {
    title: "Cookie Policy",
    content: `
      <h2>Cookie Policy</h2>
      <p>Last updated: ${new Date().toLocaleDateString()}</p>

      <h3>1. What Are Cookies</h3>
      <p>Cookies are small text files stored on your device when you visit our website.</p>

      <h3>2. Cookies We Use</h3>
      <h4>Essential Cookies</h4>
      <ul>
        <li>Session cookies for booking functionality</li>
        <li>Security cookies</li>
      </ul>

      <h4>Performance Cookies</h4>
      <ul>
        <li>Analytics cookies</li>
        <li>Error monitoring cookies</li>
      </ul>

      <h3>3. Managing Cookies</h3>
      <p>You can control cookies through your browser settings. Blocking some cookies may affect website functionality.</p>

      <h3>4. Third-Party Cookies</h3>
      <p>We use third-party services that may set cookies:</p>
      <ul>
        <li>Google Analytics</li>
        <li>Payment processors</li>
        <li>Booking system</li>
      </ul>
    `
  }
};

type PolicyType = 'privacy' | 'gdpr' | 'cookies';
const { type } = Astro.props as { type: PolicyType };
const policy = policies[type];
---

<div class="policy-content">
  <h1 class="text-2xl font-proxima-bold text-brand-navy mb-6">{policy.title}</h1>
  <div class="prose max-w-none" set:html={policy.content} />
</div>

<style>
  .policy-content h2 {
    @apply text-xl font-bold text-brand-navy mt-6 mb-4;
  }
  .policy-content h3 {
    @apply text-lg font-bold text-brand-navy mt-4 mb-2;
  }
  .policy-content p {
    @apply mb-4;
  }
  .policy-content ul {
    @apply list-disc pl-6 mb-4;
  }
  .policy-content li {
    @apply mb-1;
  }
</style>